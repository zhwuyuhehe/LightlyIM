import{d as p,k as d,o as C,c as v,j as x,_}from"./index-7JKY8DTR.js";const g=p({__name:"CaptchaCode",emits:["GetCaptchaCode"],setup(B,{emit:M}){const h=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return t[Math.floor(Math.random()*62)]+t[Math.floor(Math.random()*62)]+t[Math.floor(Math.random()*62)]+t[Math.floor(Math.random()*62)]},e=d(h()),n=d();function l(){const t=n.value.getContext("2d");t.clearRect(0,0,n.value.width,n.value.height),t.font=Math.floor(Math.random()*9+16)+"px 微软雅黑",t.textBaseline="middle",t.save();const r=()=>{const a=Math.floor(Math.random()*129)+64+",",o=Math.floor(Math.random()*129)+64+",",c=Math.floor(Math.random()*129)+64;return"rgb("+a+o+c+")"};for(let a=0;a<5;a++){t.beginPath(),t.strokeStyle=r(),a&2?(t.moveTo(Math.floor(Math.random()*61),0),t.lineTo(Math.floor(Math.random()*61+20),36)):(t.moveTo(Math.floor(Math.random()*61+20),0),t.lineTo(Math.floor(Math.random()*61),36)),t.stroke();for(let o=0;o<6;o++)t.beginPath(),t.arc(Math.random()*81,Math.random()*37,Math.random()*2,0,2*Math.PI),t.fillStyle=r(),t.fill()}for(const a of e.value){const o=t.measureText(a),c=o.actualBoundingBoxAscent+o.actualBoundingBoxDescent,i=t.measureText(a).width;t.fillStyle=r();const m=()=>(Math.floor(Math.random()*11)-5)*Math.PI/270;t.translate(0,18);const u=m();t.rotate(u),t.fillText(a,i/2,c/2),t.translate(18,-18)}t.restore()}const s=M;C(()=>{l(),s("GetCaptchaCode",e.value)});function f(){e.value=h(),l(),s("GetCaptchaCode",e.value)}return(t,r)=>(x(),v("canvas",{class:"canvasPaint",ref_key:"captchaCanvas",ref:n,width:"80px",height:"40px",onClick:f},null,512))}}),T=_(g,[["__scopeId","data-v-67b444bc"]]);export{T as C};
